<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Antrian RS - Petugas (Live)</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-image: url('hospital 2.jpeg');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        color: white;
        text-shadow: 1px 1px 2px black;
    }
    .container {
        background: rgba(0,0,0,0.6);
        width: 90%;
        max-width: 500px;
        margin: 50px auto;
        padding: 20px;
        border-radius: 12px;
    }
    input, button {
        width: 100%;
        padding: 10px;
        margin-top: 8px;
        border-radius: 8px;
        border: none;
    }
    button { cursor: pointer; background: orange; color: black; font-weight: bold; }
    h2{text-align:center;}
    table {width:100%; background:white; color:black; border-collapse: collapse; margin-top:10px;}
    td,th{border:1px solid black; padding:6px; text-align:center;}
    .hapusBtn { background:red; color:white; border-radius:6px; padding:5px; cursor:pointer;}
</style>
</head>
<body>

<div class="container" id="loginBox">
    <h2>Login Petugas</h2>
    <input id="username" type="text" placeholder="Username">
    <input id="password" type="password" placeholder="Password">
    <button onclick="login()">Masuk</button>
</div>

<div class="container" id="antrianBox" style="display:none;">
    <h2>Daftar Antrian Pasien (Live)</h2>
    <table id="tabelAntrian">
        <tr>
            <th>No</th>
            <th>Nama</th>
            <th>Ruangan</th>
            <th>Aksi</th>
        </tr>
    </table>
    <button onclick="logout()">Logout</button>
</div>

<script>
let intervalID = null;

function login() {
    if(document.getElementById("username").value === "") return alert("Isi Username");
    
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("antrianBox").style.display = "block";
    
    muatAntrian();
    intervalID = setInterval(muatAntrian, 1000); // update tiap 1 detik
}

function muatAntrian(){
    let antre = JSON.parse(localStorage.getItem("antrian")) || [];
    let tabel = document.getElementById("tabelAntrian");
    tabel.innerHTML = "<tr><th>No</th><th>Nama</th><th>Ruangan</th><th>Aksi</th></tr>";

    antre.forEach((p,i)=>{
        let row = tabel.insertRow();
        row.insertCell(0).innerHTML = i+1;
        row.insertCell(1).innerHTML = p.nama;
        row.insertCell(2).innerHTML = p.ruangan;
        row.insertCell(3).innerHTML = `<button class='hapusBtn' onclick='hapus(${i})'>Selesai</button>`;
    });
}

function hapus(idx){
    let antre = JSON.parse(localStorage.getItem("antrian")) || [];
    antre.splice(idx,1);
    localStorage.setItem("antrian", JSON.stringify(antre));
    muatAntrian();
}

function logout(){
    clearInterval(intervalID);
    document.getElementById("antrianBox").style.display="none";
    document.getElementById("loginBox").style.display="block";
}
</script>

</body>
</html><!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Antrian RS - Petugas (Live)</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-image: url('hospital 2.jpeg');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        color: white;
        text-shadow: 1px 1px 2px black;
    }
    .container {
        background: rgba(0,0,0,0.6);
        width: 90%;
        max-width: 500px;
        margin: 50px auto;
        padding: 20px;
        border-radius: 12px;
    }
    input, button {
        width: 100%;
        padding: 10px;
        margin-top: 8px;
        border-radius: 8px;
        border: none;
    }
    button { cursor: pointer; background: orange; color: black; font-weight: bold; }
    h2{text-align:center;}
    table {width:100%; background:white; color:black; border-collapse: collapse; margin-top:10px;}
    td,th{border:1px solid black; padding:6px; text-align:center;}
    .hapusBtn { background:red; color:white; border-radius:6px; padding:5px; cursor:pointer;}
</style>
</head>
<body>

<div class="container" id="loginBox">
    <h2>Login Petugas</h2>
    <input id="username" type="text" placeholder="Username">
    <input id="password" type="password" placeholder="Password">
    <button onclick="login()">Masuk</button>
</div>

<div class="container" id="antrianBox" style="display:none;">
    <h2>Daftar Antrian Pasien (Live)</h2>
    <table id="tabelAntrian">
        <tr>
            <th>No</th>
            <th>Nama</th>
            <th>Ruangan</th>
            <th>Aksi</th>
        </tr>
    </table>
    <button onclick="logout()">Logout</button>
</div>

<script>
let intervalID = null;

function login() {
    if(document.getElementById("username").value === "") return alert("Isi Username");
    
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("antrianBox").style.display = "block";
    
    muatAntrian();
    intervalID = setInterval(muatAntrian, 1000); // update tiap 1 detik
}

function muatAntrian(){
    let antre = JSON.parse(localStorage.getItem("antrian")) || [];
    let tabel = document.getElementById("tabelAntrian");
    tabel.innerHTML = "<tr><th>No</th><th>Nama</th><th>Ruangan</th><th>Aksi</th></tr>";

    antre.forEach((p,i)=>{
        let row = tabel.insertRow();
        row.insertCell(0).innerHTML = i+1;
        row.insertCell(1).innerHTML = p.nama;
        row.insertCell(2).innerHTML = p.ruangan;
        row.insertCell(3).innerHTML = `<button class='hapusBtn' onclick='hapus(${i})'>Selesai</button>`;
    });
}

function hapus(idx){
    let antre = JSON.parse(localStorage.getItem("antrian")) || [];
    antre.splice(idx,1);
    localStorage.setItem("antrian", JSON.stringify(antre));
    muatAntrian();
}

function logout(){
    clearInterval(intervalID);
    document.getElementById("antrianBox").style.display="none";
    document.getElementById("loginBox").style.display="block";
}
</script>

</body>
</html>
